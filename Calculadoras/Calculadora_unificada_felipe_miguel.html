<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora SpaceSense</title>
</head>
<body>
    <span style="font-size: 40px;"><b> Calculadora financeira</b></span><img src="imagens/cifrao.jpg" width="100px"><br><br>
    <span style="font-size: 20px;">Informe sua media de clientes por mês:</span>
    <input type="number" id="ipt_media_clientes"><br>
    <span style="font-size: 20px;">Informe o total de prateleiras em seu estabelecimento:</span>
    <input type="number" id="ipt_total_prateleiras"><br>
    <span style="font-size: 20px;">Informe quantas prateleiras já possuem alocação no estabelecimento:</span>
    <input type="number" id="ipt_prateleiras_alocadas"><br>
    <span style="font-size: 20px;">Informe o valor médio por alocação de prateleira:</span>
    <input type="number" id="ipt_preco_prateleiras_alocadas"><br>
    <span style="font-size: 20px;">Informe o ticket médio de sua loja (preço médio entre as compras de seus clientes):</span>
    <input type="number" id="ipt_ticket_medio"> <br>
    <span style="font-size: 20px;">Informe o número de meses para avaliação:</span>
    <input id="ipt_meses_avaliacao"/><br>
    <span style="font-size: 20px;">Você possui conhecimento exatado dos pontos quentes e frios de sua loja? (sim ou não)</span>
    <input type="text" id="ipt_pontos_quentes"><br>
    <span style="font-size: 20px;">Você possui um layout feito de maneira estratégica para sua loja? (sim ou não)</span>
    <input type="text" id="ipt_layout"> <br><br>
    <button onclick="calcular()">Calcular métricas</button>


    <div id="div_mensagem"></div>
</body>
</html>

<script>
    function calcular(){
        var media_clientes = Number(ipt_media_clientes.value);
        var total_prateleiras = Number(ipt_total_prateleiras.value);
        var qtd_prateleiras_alocadas = Number(ipt_prateleiras_alocadas.value);
        var preco_medio_prateleiras_inicial = Number(ipt_preco_prateleiras_alocadas.value);
        var ticket_medio = Number(ipt_ticket_medio.value);
        var meses_avaliacao = Number(ipt_meses_avaliacao.value);
        var pontos_quentes = ipt_pontos_quentes.value;
        var layout = ipt_layout.value;
        
        var faturamento_total_produtos_inicial = media_clientes * ticket_medio;
        var porcentagem_prateleiras_alocadas_vs_totais_inicial = qtd_prateleiras_alocadas / total_prateleiras * 100;

        var faturamento_total_com_prateleiras_inicial = qtd_prateleiras_alocadas * preco_medio_prateleiras_inicial;
        // O número de clientes influencia no potencial de crescimento pois conseguiremos induzir melhor os clientes a compras e haverá mais chance de obtermos mais zonas quentes, consequentemente mair potencial de alocação

        var crescimento_potencial_de_faturamento = 1.4;
        
        var prateleiras_para_alocacao_potencial = qtd_prateleiras_alocadas * 1.3;
        var preco_medio_prateleiras_final = preco_medio_prateleiras_inicial * 1.3;
        var fluxo_de_clientes = "Alto";
        if (media_clientes < 5000) {
            crescimento_potencial_de_faturamento = 1.3
            prateleiras_para_alocacao_potencial = qtd_prateleiras_alocadas * 1.2;
            preco_medio_prateleiras_final *= 1.2;
            fluxo_de_clientes = "Médio";
        }

        if (media_clientes < 1500) {
            crescimento_potencial_de_faturamento = 1.25     
            prateleiras_para_alocacao_potencial = qtd_prateleiras_alocadas * 1.1;
            preco_medio_prateleiras_final *= 1.1;
            fluxo_de_clientes = "Baixo";
        }

        if (pontos_quentes == 'não') {
            crescimento_potencial_de_faturamento += 0.25
        }

        if (layout == 'não') {
            crescimento_potencial_de_faturamento += 0.25
        }

        var porcentagem_prateleiras_alocadas_vs_totais_final = prateleiras_para_alocacao_potencial / total_prateleiras * 100;
        var faturamento_total_com_prateleiras_final = prateleiras_para_alocacao_potencial * preco_medio_prateleiras_final;
        var faturamento_total_produtos_final = crescimento_potencial_de_faturamento * faturamento_total_produtos_inicial;
        var faturamento_total_em_avaliacao_inicial = (faturamento_total_com_prateleiras_inicial + faturamento_total_produtos_inicial)*meses_avaliacao;
        var faturamento_total_em_avaliacao_final = (faturamento_total_com_prateleiras_final + faturamento_total_produtos_final)*meses_avaliacao;
        var porcentagem_diferenca_faturamento_total_inicial_vs_final = (faturamento_total_em_avaliacao_final - faturamento_total_em_avaliacao_inicial) / faturamento_total_em_avaliacao_final *100;


        div_mensagem.innerHTML = `
        <h3>Seu fluxo de clientes é considerado: ${fluxo_de_clientes}.
        <br>A relação entre prateleiras totais e prateleiras alocadas no seu comércio é de: ${porcentagem_prateleiras_alocadas_vs_totais_inicial}%.
        <br>Com a SpaceSense teria um potencial de <span style = 'color:green'>${porcentagem_prateleiras_alocadas_vs_totais_final}%</span>para alocaçao. <br>
        <br>O preço médio de alocação por prateleira é de: <span>${preco_medio_prateleiras_inicial}</span>.
        <br>Com a SpaceSense teria um potencial de <span style = 'color:green'>${preco_medio_prateleiras_final}</span><br>
        <br>O faturamento atual com alocação de prateleiras é de: <span>${faturamento_total_com_prateleiras_inicial}</span>
        <br>Com a SpaceSense seria de: <span style = 'color:green'>${faturamento_total_com_prateleiras_final}</span>.<br>
        <br>O faturamento atual com a venda de produtos é de: <span>${faturamento_total_produtos_inicial}</span>.
        <br>Com a SpaceSense seria de: <span style = 'color:green'>${faturamento_total_produtos_final}</span>.<br>
        <br>Seu faturamento em ${meses_avaliacao} meses é de: ${faturamento_total_em_avaliacao_inicial}.
        <br>Com a SpaceSense teria um potencia de: <span style = 'color:green'>${faturamento_total_em_avaliacao_final}</span>. Um crescimento de <span style = 'color:green'>${porcentagem_diferenca_faturamento_total_inicial_vs_final}%</span>.
        <h3/>
        `



        
    }
</script>