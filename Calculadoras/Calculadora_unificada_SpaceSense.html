<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora SpaceSense</title>
</head>
<body>
    <span style="font-size: 40px;"><b> Calculadora financeira</b></span><br><br>
    <span style="font-size: 20px;">Média de clientes por mês:</span>
    <input type="number" id="ipt_media_clientes"><br>
    <span style="font-size: 20px;">Total de prateleiras do estabelecimento:</span>
    <input type="number" id="ipt_total_prateleiras"><br>
    <span style="font-size: 20px;">Quantas prateleiras já possuem alocação no estabelecimento:</span>
    <input type="number" id="ipt_prateleiras_alocadas"><br>
    <span style="font-size: 20px;">Valor médio por alocação de prateleira(em reais):</span>
    <input type="number" id="ipt_preco_prateleiras_alocadas"><br>
    <span style="font-size: 20px;">Ticket médio mensal por cliente no estabelecimento(em reais):</span>
    <input type="number" id="ipt_ticket_medio"> <br>
    <span style="font-size: 20px;">Quantos meses você gostaria de avaliar:</span>
    <input id="ipt_meses_avaliacao"/><br>
    <span style="font-size: 20px;">Você possui conhecimento exatado dos pontos quentes e frios de sua loja? (sim ou não)</span>
    <input type="text" id="ipt_pontos_quentes"><br>
    <span style="font-size: 20px;">Você possui um layout feito de maneira estratégica para sua loja? (sim ou não)</span>
    <input type="text" id="ipt_layout"> <br><br>
    <button onclick="calcular()">Calcular métricas</button>


    <div id="div_mensagem"></div>
</body>
</html>

<script>
    function calcular(){
        var media_clientes = Number(ipt_media_clientes.value);
        var total_prateleiras = Number(ipt_total_prateleiras.value);
        var qtd_prateleiras_alocadas = Number(ipt_prateleiras_alocadas.value);
        var preco_medio_prateleiras_inicial = Number(ipt_preco_prateleiras_alocadas.value);
        var ticket_medio = Number(ipt_ticket_medio.value);
        var meses_avaliacao = Number(ipt_meses_avaliacao.value);
        var pontos_quentes = ipt_pontos_quentes.value;
        var layout = ipt_layout.value;
        
        var faturamento_total_produtos_inicial = media_clientes * ticket_medio;
        var porcentagem_prateleiras_alocadas_vs_totais_inicial = qtd_prateleiras_alocadas / total_prateleiras * 100;

        var faturamento_total_com_prateleiras_inicial = qtd_prateleiras_alocadas * preco_medio_prateleiras_inicial;

        // O número de clientes influencia no potencial de crescimento pois conseguiremos induzir melhor os clientes a compras e haverá mais chance de obtermos mais zonas quentes, consequentemente mair potencial de alocação

        var crescimento_potencial_de_faturamento =0;
        var prateleiras_para_alocacao_potencial = 0;
        var preco_medio_prateleiras_final = 0;
        var fluxo_de_clientes = "";
        var cor = "";
        
        

        
        
        if(media_clientes > 1500){
            crescimento_potencial_de_faturamento = 1.4;
            prateleiras_para_alocacao_potencial = qtd_prateleiras_alocadas * 1.2;
            preco_medio_prateleiras_final = preco_medio_prateleiras_inicial * 1.3;
            fluxo_de_clientes = "Médio";
            cor = "orange";
        } 
        if (media_clientes >= 5000) {
            crescimento_potencial_de_faturamento = 1.23;
            prateleiras_para_alocacao_potencial = qtd_prateleiras_alocadas * 1.2;
            preco_medio_prateleiras_final = preco_medio_prateleiras_inicial * 1.6;
            fluxo_de_clientes = "Alto";
            cor = "green";
        }
        if(media_clientes <= 1500){
            crescimento_potencial_de_faturamento = 1.12;
            prateleiras_para_alocacao_potencial = qtd_prateleiras_alocadas * 1.1;
            preco_medio_prateleiras_final = preco_medio_prateleiras_inicial * 1.1;
            fluxo_de_clientes = "Baixo";
            cor = "red";
        }
        

        if (pontos_quentes == 'não') {
            crescimento_potencial_de_faturamento *= 1.12
        }

        if (layout == 'não') {
            crescimento_potencial_de_faturamento *= 1.12
        }

        var porcentagem_prateleiras_alocadas_vs_totais_final = prateleiras_para_alocacao_potencial / total_prateleiras * 100;
        var faturamento_total_com_prateleiras_final = prateleiras_para_alocacao_potencial * preco_medio_prateleiras_final;
        var faturamento_total_produtos_final = crescimento_potencial_de_faturamento * faturamento_total_produtos_inicial;
        var faturamento_total_em_avaliacao_inicial = (faturamento_total_com_prateleiras_inicial + faturamento_total_produtos_inicial)*meses_avaliacao;
        var faturamento_total_em_avaliacao_final = (faturamento_total_com_prateleiras_final + faturamento_total_produtos_final)*meses_avaliacao;
        var porcentagem_diferenca_faturamento_total_inicial_vs_final = (faturamento_total_em_avaliacao_final - faturamento_total_em_avaliacao_inicial) / faturamento_total_em_avaliacao_inicial *100;

        if (porcentagem_prateleiras_alocadas_vs_totais_final >= 100) {
            porcentagem_prateleiras_alocadas_vs_totais_final = 100;
        }

        div_mensagem.innerHTML = `
        <span style ='font-size: 25px'>Seu fluxo de clientes é considerado: <span style='color:${cor}; font-weight: bold'> ${fluxo_de_clientes}</span>.
        <br>A relação entre prateleiras totais e prateleiras alocadas no seu comércio é de:<span style = 'color:orange; font-weight: bold'> ${porcentagem_prateleiras_alocadas_vs_totais_inicial}%</span>.
        <br>Com a SpaceSense teria um potencial de <span style = 'color:green; font-weight: bold'>${porcentagem_prateleiras_alocadas_vs_totais_final}%</span>para alocaçao. <br>
        <br>O preço médio de alocação por prateleira é de: <span style = 'color:orange; font-weight: bold'>R$${preco_medio_prateleiras_inicial}</span>.
        <br>Com a SpaceSense teria um potencial de <span style = 'color:green; font-weight: bold'>R$${preco_medio_prateleiras_final}</span><br>
        <br>O faturamento mensal com alocação de prateleiras é de: <span style = 'color:orange; font-weight: bold'>R$${faturamento_total_com_prateleiras_inicial}</span>
        <br>Com a SpaceSense teria um potencial mensal de: <span style = 'color:green; font-weight: bold'>R$${faturamento_total_com_prateleiras_final}</span>.<br>
        <br>O faturamento mensal com a venda de produtos é de: <span style = 'color:orange; font-weight: bold'>R$${faturamento_total_produtos_inicial}</span>.
        <br>Com a SpaceSense teria um potencial mensal de: <span style = 'color:green; font-weight: bold'>R$${faturamento_total_produtos_final}</span>.<br>
        <br>Seu faturamento em ${meses_avaliacao} meses é de: <span style = 'color:orange; font-weight: bold>R$${faturamento_total_em_avaliacao_inicial}</span> .
        <br>Com a SpaceSense teria um potencial em ${meses_avaliacao} meses de: <span style = 'color:green; font-weight:bold'>R$${faturamento_total_em_avaliacao_final}</span>. Um crescimento de <span style = 'color:green; font-weight: bold'>${porcentagem_diferenca_faturamento_total_inicial_vs_final}%</span>.
        </span>
        `
        


            
        
    }
</script>